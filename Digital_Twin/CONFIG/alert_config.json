{
  "metadata": {
    "version": "1.1.0",
    "last_updated_utc": "2025-10-19T14:30:00Z",
    "updated_by": "system_bot",
    "description": "Configuration for alert rules, notification channels, and escalation policies. Secrets should be loaded from environment variables."
  },
  "configuration": {
    "alert_rules": {
      "temperature_high": {
        "metric": "temperature",
        "operator": ">",
        "threshold": 80,
        "severity": "warning",
        "duration": 300,
        "description": "Temperature above normal operating range"
      },
      "temperature_critical": {
        "metric": "temperature",
        "operator": ">",
        "threshold": 95,
        "severity": "critical",
        "duration": 60,
        "description": "Temperature at critical level"
      },
      "vibration_high": {
        "metric": "vibration",
        "operator": ">",
        "threshold": 0.5,
        "severity": "warning",
        "duration": 180,
        "description": "High vibration detected"
      },
      "efficiency_low": {
        "metric": "efficiency_score",
        "operator": "<",
        "threshold": 0.7,
        "severity": "info",
        "duration": 600,
        "description": "System efficiency below optimal"
      }
    },
    "thresholds": {
      "health_score_critical": 0.3,
      "health_score_warning": 0.6,
      "anomaly_threshold": 0.8,
      "failure_probability_high": 0.7
    },
    "notification_channels": {
      "email": {
        "enabled": true,
        "smtp_server": "smtp.gmail.com",
        "smtp_port": 587,
        "username": "env_SMTP_USERNAME", // Load username from environment
        "password": "env_SMTP_PASSWORD", // Load password from environment
        "recipients_env_var": "ALERT_EMAIL_RECIPIENTS" // Load recipients from an env var (comma-separated)
        // "recipients": [ // Alternatively, keep static list if preferred, but env var is better
        //   "admin@company.com",
        //   "maintenance@company.com"
        // ]
      },
      "slack": {
        "enabled": false,
        "webhook_url": "env_SLACK_WEBHOOK_URL", // Load from environment
        "channel": "#alerts"
      },
      "webhook": {
        "enabled": false,
        "url": "env_WEBHOOK_URL", // Load from environment
        "method": "POST"
      }
    },
    "escalation_policies": {
      "default": {
        "levels": [
          {
            "delay_minutes": 0,
            "channels": [
              "email"
            ]
          },
          {
            "delay_minutes": 15,
            "channels": [
              "email",
              "slack"
            ]
          }
        ]
      },
      "critical": {
        "levels": [
          {
            "delay_minutes": 0,
            "channels": [
              "email",
              "slack"
            ]
          },
          {
            "delay_minutes": 5,
            "channels": [
              "email",
              "slack"
            ]
          }
        ]
      }
    },
    "suppression_rules": {
      "duplicate_window_minutes": 5,
      "burst_limit": 10,
      "burst_window_minutes": 1
    },
    "correlation_rules": {
      "temperature_vibration": {
        "metrics": [
          "temperature",
          "vibration"
        ],
        "correlation_threshold": 0.7,
        "window_minutes": 10,
        "action": "create_correlated_alert"
      }
    }
  }
}